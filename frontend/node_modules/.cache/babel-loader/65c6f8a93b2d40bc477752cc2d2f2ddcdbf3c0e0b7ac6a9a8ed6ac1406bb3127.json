{"ast":null,"code":"import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(props){React.useEffect(function(){var escClose=function escClose(e){if(e.key==='Escape'){props.onClose();}};var closeOnBackground=function closeOnBackground(e){if(e.target.classList.contains('popup__button-exit')||e.target.classList.contains('popup')){props.onClose();}};window.addEventListener('keydown',escClose);window.addEventListener('mousedown',closeOnBackground);return function(){window.removeEventListener('keydown',escClose);window.removeEventListener('mousedown',closeOnBackground);};},[props]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup \".concat(props.isOpen&&\"popup_opened\"),id:props.name,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title\",children:props.title}),/*#__PURE__*/_jsx(\"form\",{action:\"#\",name:props.name,className:\"popup__form\",id:\"popup__\".concat(props.name),onSubmit:props.handleSubmit,noValidate:true,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__fieldset\",children:[props.children,/*#__PURE__*/_jsx(\"button\",{className:\"popup__button-save \".concat(!props.isFormValid&&'popup__button-save_inactive'),disabled:!props.isFormValid,type:\"submit\",children:props.textButton})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__button-exit\",type:\"button\",onClick:props.onClose})]})});}export default PopupWithForm;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","PopupWithForm","props","useEffect","escClose","e","key","onClose","closeOnBackground","target","classList","contains","window","addEventListener","removeEventListener","className","concat","isOpen","id","name","children","title","action","onSubmit","handleSubmit","noValidate","isFormValid","disabled","type","textButton","onClick"],"sources":["D:/react-mesto-api-full-gha/frontend/src/components/PopupWithForm/PopupWithForm.js"],"sourcesContent":["import React from 'react';\r\n\r\nfunction PopupWithForm (props) {\r\n\r\n    React.useEffect (() => {\r\n\r\n        const escClose = (e) => {\r\n            if (e.key === 'Escape') {\r\n                props.onClose();\r\n            }\r\n        }\r\n\r\n        const closeOnBackground = (e) => {\r\n            if (e.target.classList.contains('popup__button-exit') || e.target.classList.contains('popup')){\r\n                props.onClose();\r\n            }\r\n        }\r\n\r\n        window.addEventListener('keydown', escClose);\r\n        window.addEventListener('mousedown', closeOnBackground);\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', escClose)\r\n            window.removeEventListener('mousedown', closeOnBackground);\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <div className={`popup ${props.isOpen && `popup_opened`}`} id={props.name}>\r\n            <div className=\"popup__container\">\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form action=\"#\" name={props.name} className=\"popup__form\" id={`popup__${props.name}`} \r\n                    onSubmit={props.handleSubmit} noValidate>\r\n                    <fieldset className=\"popup__fieldset\">\r\n                        {props.children}\r\n                        <button className={`popup__button-save ${!props.isFormValid && 'popup__button-save_inactive'}`} disabled={!props.isFormValid} type=\"submit\">{props.textButton}</button>\r\n                    </fieldset>\r\n                </form>\r\n                <button className=\"popup__button-exit\" type=\"button\"\r\n                    onClick={props.onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,aAAaA,CAAEC,KAAK,CAAE,CAE3BN,KAAK,CAACO,SAAS,CAAE,UAAM,CAEnB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,CAAK,CACpB,GAAIA,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAE,CACpBJ,KAAK,CAACK,OAAO,CAAC,CAAC,CACnB,CACJ,CAAC,CAED,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIH,CAAC,CAAK,CAC7B,GAAIA,CAAC,CAACI,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,oBAAoB,CAAC,EAAIN,CAAC,CAACI,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAC1FT,KAAK,CAACK,OAAO,CAAC,CAAC,CACnB,CACJ,CAAC,CAEDK,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAET,QAAQ,CAAC,CAC5CQ,MAAM,CAACC,gBAAgB,CAAC,WAAW,CAAEL,iBAAiB,CAAC,CAEvD,MAAO,WAAM,CACTI,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEV,QAAQ,CAAC,CAC/CQ,MAAM,CAACE,mBAAmB,CAAC,WAAW,CAAEN,iBAAiB,CAAC,CAC9D,CAAC,CACL,CAAC,CAAE,CAACN,KAAK,CAAC,CAAC,CAEX,mBACIJ,IAAA,QAAKiB,SAAS,UAAAC,MAAA,CAAWd,KAAK,CAACe,MAAM,gBAAkB,CAAG,CAACC,EAAE,CAAEhB,KAAK,CAACiB,IAAK,CAAAC,QAAA,cACtEpB,KAAA,QAAKe,SAAS,CAAC,kBAAkB,CAAAK,QAAA,eAC7BtB,IAAA,OAAIiB,SAAS,CAAC,cAAc,CAAAK,QAAA,CAAElB,KAAK,CAACmB,KAAK,CAAK,CAAC,cAC/CvB,IAAA,SAAMwB,MAAM,CAAC,GAAG,CAACH,IAAI,CAAEjB,KAAK,CAACiB,IAAK,CAACJ,SAAS,CAAC,aAAa,CAACG,EAAE,WAAAF,MAAA,CAAYd,KAAK,CAACiB,IAAI,CAAG,CAClFI,QAAQ,CAAErB,KAAK,CAACsB,YAAa,CAACC,UAAU,MAAAL,QAAA,cACxCpB,KAAA,aAAUe,SAAS,CAAC,iBAAiB,CAAAK,QAAA,EAChClB,KAAK,CAACkB,QAAQ,cACftB,IAAA,WAAQiB,SAAS,uBAAAC,MAAA,CAAwB,CAACd,KAAK,CAACwB,WAAW,EAAI,6BAA6B,CAAG,CAACC,QAAQ,CAAE,CAACzB,KAAK,CAACwB,WAAY,CAACE,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAElB,KAAK,CAAC2B,UAAU,CAAS,CAAC,EACjK,CAAC,CACT,CAAC,cACP/B,IAAA,WAAQiB,SAAS,CAAC,oBAAoB,CAACa,IAAI,CAAC,QAAQ,CAChDE,OAAO,CAAE5B,KAAK,CAACK,OAAQ,CAAS,CAAC,EACpC,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAAN,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}