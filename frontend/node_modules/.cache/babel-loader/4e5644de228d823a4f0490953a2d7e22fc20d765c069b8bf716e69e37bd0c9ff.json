{"ast":null,"code":"import _classCallCheck from\"D:/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(baseUrl,headers){_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(response){if(response.ok){return response.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(response.status));}}},{key:\"getCards\",value:function getCards(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(function(response){return _this._getResponseData(response);});}},{key:\"addCard\",value:function addCard(card){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:card.title,link:card.link})}).then(function(response){return _this2._getResponseData(response);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(function(response){return _this3._getResponseData(response);});}},{key:\"editUserInfo\",value:function editUserInfo(name,about){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(response){return _this4._getResponseData(response);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this._headers}).then(function(response){return _this5._getResponseData(response);});}},{key:\"addLike\",value:function addLike(cardId){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this._headers}).then(function(response){return _this6._getResponseData(response);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this._headers}).then(function(response){return _this7._getResponseData(response);});}},{key:\"editAvatar\",value:function editAvatar(data){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(function(response){return _this8._getResponseData(response);});}},{key:\"getInitialInfo\",value:function getInitialInfo(){return Promise.all([this.getUserInfo(),this.getCards()]);}}]);return Api;}();var api=new Api('https://mesto.nomoreparties.co/v1/cohort-65',{authorization:'b15bc02e-ae06-46a3-b490-b1ce7ba85320',\"content-type\":'application/json; charset=UTF-8'});export default api;","map":{"version":3,"names":["Api","baseUrl","headers","_classCallCheck","_baseUrl","_headers","_createClass","key","value","_getResponseData","response","ok","json","Promise","reject","concat","status","getCards","_this","fetch","then","addCard","card","_this2","method","body","JSON","stringify","name","title","link","getUserInfo","_this3","editUserInfo","about","_this4","deleteCard","cardId","_this5","addLike","_this6","deleteLike","_this7","editAvatar","data","_this8","avatar","getInitialInfo","all","api","authorization"],"sources":["D:/mesto-react/mesto-react/src/utils/api.js"],"sourcesContent":["\r\nclass Api {\r\n    constructor (baseUrl, headers) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _getResponseData (response) {\r\n        if(response.ok) {\r\n            return response.json()\r\n        } else {\r\n            return Promise.reject(`Ошибка ${response.status}`)\r\n        }\r\n    }\r\n\r\n    getCards () {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    addCard(card){\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: card.title,\r\n                link: card.link\r\n            })\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch (`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then((response) => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    editUserInfo(name, about) {\r\n        return fetch (`${this._baseUrl}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name,\r\n                about\r\n            })\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch (`${this._baseUrl}/cards/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    addLike (cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n            method: \"PUT\",\r\n            headers: this._headers\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    deleteLike (cardId) {\r\n        return fetch (`${this._baseUrl}/cards/${cardId}/likes`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    editAvatar (data) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n        .then(response => {\r\n            return this._getResponseData(response);\r\n        })\r\n    }\r\n\r\n    getInitialInfo() {\r\n        return Promise.all([this.getUserInfo(), this.getCards()]);\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-65', {authorization: 'b15bc02e-ae06-46a3-b490-b1ce7ba85320', \"content-type\": 'application/json; charset=UTF-8'});\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}