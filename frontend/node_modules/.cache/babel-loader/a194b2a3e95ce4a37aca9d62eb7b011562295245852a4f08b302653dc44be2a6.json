{"ast":null,"code":"import _slicedToArray from\"D:/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import api from'../../utils/api.js';import Card from'../Card/Card.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(response){setUserName(response.name);setUserDescription(response.about);setUserAvatar(response.avatar);}).catch(function(err){return console.log(err);});api.getCards().then(function(data){setCards(data.map(function(card){return{name:card.name,link:card.link,id:card._id,ownerId:card.owner._id,like:card.likes.length};}));}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-wrapper\",onClick:props.onEditAvatar,children:/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__flex\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",onClick:props.onEditProfile,type:\"button\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__profession\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:props.onCardClick},card.id);})})]});}export default Main;","map":{"version":3,"names":["React","api","Card","jsx","_jsx","jsxs","_jsxs","Main","props","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","setCards","useEffect","getUserInfo","then","response","name","about","avatar","catch","err","console","log","getCards","data","map","card","link","id","_id","ownerId","owner","like","likes","length","className","children","onClick","onEditAvatar","style","backgroundImage","concat","onEditProfile","type","onAddPlace","onCardClick"],"sources":["D:/mesto-react/mesto-react/src/components/Main/Main.js"],"sourcesContent":["import React from 'react';\r\nimport api from '../../utils/api.js';\r\nimport Card from '../Card/Card.js';\r\n\r\nfunction Main (props) {\r\n\r\n    const [userName, setUserName] = React.useState('');\r\n    const [userDescription, setUserDescription] = React.useState('');\r\n    const [userAvatar, setUserAvatar] = React.useState('');\r\n    const [cards, setCards] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        api.getUserInfo().then(response => {\r\n            setUserName(response.name);\r\n            setUserDescription(response.about);\r\n            setUserAvatar(response.avatar);\r\n        }).catch(err => console.log(err));\r\n\r\n        api.getCards().then(data => {\r\n            setCards(data.map(card => {\r\n                return {\r\n                    name: card.name,\r\n                    link: card.link,\r\n                    id: card._id,\r\n                    ownerId: card.owner._id,\r\n                    like: card.likes.length\r\n                }\r\n            }));\r\n        }).catch(err => console.log(err));\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-wrapper\"\r\n                    onClick={props.onEditAvatar}>\r\n                    <div className='profile__avatar' style={{ backgroundImage: `url(${userAvatar})` }} \r\n></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__flex\">\r\n                        <h1 className=\"profile__name\">{userName}</h1>\r\n                        <button className=\"profile__edit-button\"\r\n                            onClick={props.onEditProfile}\r\n                            type=\"button\"></button>\r\n                    </div>\r\n                    <p className=\"profile__profession\">{userDescription}</p>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\"\r\n                    onClick={props.onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {\r\n                    cards.map((card) => {\r\n                        \r\n                        return (\r\n                            <Card key={card.id} card={card} onCardClick={props.onCardClick}/>\r\n                        )\r\n                    })\r\n                }\r\n            </section>\r\n\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}